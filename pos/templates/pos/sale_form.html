{% extends 'pos/base.html' %}

{% block title %}New Sale{% endblock %}

{% block content %}
<h2>ðŸ’° New Sale</h2>

<form method="POST">
    {% csrf_token %}
    <div class="mb-3">
        <label>Product</label>
        <select name="product" class="form-select" required>
            {% for p in products %}
                <option value="{{ p.id }}">{{ p.name }} (Stock: {{ p.stock_quantity }})</option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label>Quantity</label>
        <input type="number" name="quantity" class="form-control" min="1" required>
    </div>

    <div class="mb-3">
        <label>Selling Price</label>
        <input type="number" name="selling_price" class="form-control" step="0.01">
    </div>

    <div class="mb-3">
        <label>Payment Mode</label>
        <select name="payment_mode" class="form-select">
            <option value="CASH">Cash</option>
            <option value="MPESA">M-Pesa</option>
            <option value="BANK">Bank</option>
            <option value="CREDIT">Credit</option>
        </select>
    </div>

    <div class="mb-3">
        <label>Amount Paid</label>
        <input type="number" name="paid_amount" class="form-control" step="0.01" value="0">
    </div>

    <div class="mb-3">
        <label>Admin PIN (if needed)</label>
        <input type="password" name="pin" class="form-control">
    </div>

    <button type="submit" class="btn btn-success">Save Sale</button>
</form>
{% endblock %}
